def print_assistant_thoughts(assistant_reply):
    global ai_name
    global cfg
    try:
        # Parse and print Assistant response
        assistant_reply_json = fix_and_parse_json(assistant_reply)
        if assistant_thoughts:
            assistant_thoughts_text = assistant_thoughts.get("text")
            assistant_thoughts_reasoning = assistant_thoughts.get("reasoning")
            assistant_thoughts_plan = assistant_thoughts.get("plan")
            assistant_thoughts_criticism = assistant_thoughts.get("criticism")
            assistant_thoughts_speak = assistant_thoughts.get("speak")

        if isinstance(assistant_reply_json, dict):
            # The rest of the original code
            try:
                assistant_thoughts = assistant_reply_json.get("thoughts")
                # ... (rest of the original code)
            except Exception as e:
                assistant_thoughts_text = "The AI's response was unreadable."
                print_to_console("Error: \n", Fore.RED, str(e))

            # ... (rest of the original code, inside the if block)
        else:
            print("Error: The variable is not a dictionary.")

    except json.decoder.JSONDecodeError:
        print_to_console("Error: Invalid JSON\n", Fore.RED, assistant_reply)
    # All other errors, return "Error: + error message"
    except Exception as e:
        call_stack = traceback.format_exc()
        print_to_console("Error: \n", Fore.RED, call_stack)
